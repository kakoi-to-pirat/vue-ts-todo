{"version":3,"sources":["webpack:///./src/components/TreeNode.vue?5fd3","webpack:///./src/components/Tree.vue?bbe6","webpack:///./src/views/Roles.vue?bbf4","webpack:///./src/components/Tree.vue?f78b","webpack:///./src/components/TreeNode.vue?2bec","webpack:///./src/components/TreeNode.vue","webpack:///./src/components/TreeNode.vue?067c","webpack:///./src/components/TreeNode.vue?b491","webpack:///./src/components/Tree.vue","webpack:///./src/components/Tree.vue?4079","webpack:///./src/components/Tree.vue?6176","webpack:///./src/views/Roles.vue","webpack:///./src/views/Roles.vue?7890","webpack:///./src/views/Roles.vue?5b7d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","usersRoles","on","onChangeUsersRoles","staticRenderFns","data","tree","editableField","onChangeNode","_l","node","key","_b","directives","name","rawName","value","expression","domProps","Array","isArray","_i","$event","$$a","$$el","target","$$c","checked","$$v","$$i","$set","concat","slice","indeterminate","isIndeterminate","_s","serializeNode","children","isEditable","_e","$emit","cloneDeep","treeService","TreeService","required","default","component","updatedTree","update","parsedTree","parse","build","components","TreeNode","store","$store","usersModule","isLoadingData","loadUsersRoles","UsersRoles","userRoles","setUsersRoles","Tree"],"mappings":"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","file":"js/roles.f58e08ae.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeNode.vue?vue&type=style&index=0&id=5e791ad8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeNode.vue?vue&type=style&index=0&id=5e791ad8&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=0&id=90366c18&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=0&id=90366c18&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"roles\"},[_c('h1',[_vm._v(\"This is an users roles page\")]),(_vm.isLoadingData)?_c('div',[_vm._v(\"Loading...\")]):_c('tree',{attrs:{\"data\":_vm.usersRoles,\"editable-field\":'isApprove'},on:{\"change\":_vm.onChangeUsersRoles}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tree\"},[_c('div',{staticClass:\"tree__data\"},[_c('h3',[_vm._v(\"Source:\")]),_c('tree-node',{attrs:{\"tree\":_vm.data}}),_c('h3',[_vm._v(\"Result:\")]),_c('tree-node',{attrs:{\"tree\":_vm.tree}})],1),_c('div',{staticClass:\"tree__actions\"},[_c('h3',[_vm._v(\"Editable:\")]),_c('ul',{staticClass:\"tree__actions-list\"},[_c('tree-node',{attrs:{\"tree\":_vm.tree,\"is-editable\":true,\"editable-field\":_vm.editableField},on:{\"change-node\":_vm.onChangeNode}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"tree-list\"},_vm._l((_vm.tree),function(node){return _c('li',{key:(\"tree-node-\" + (node.id)),staticClass:\"tree-list__item\"},[(_vm.isEditable)?_c('span',[_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(node[_vm.editableField]),expression:\"node[editableField]\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(node[_vm.editableField])?_vm._i(node[_vm.editableField],null)>-1:(node[_vm.editableField])},on:{\"change\":[function($event){var $$a=node[_vm.editableField],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(node, _vm.editableField, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(node, _vm.editableField, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(node, _vm.editableField, $$c)}},function($event){return _vm.onChangeNode(node)}]}},'input',{\n          checked: node[_vm.editableField],\n          indeterminate: _vm.isIndeterminate(node),\n        },true)),_vm._v(\" \"+_vm._s(node.name)+\" \")]):_c('span',[_vm._v(_vm._s(_vm.serializeNode(node)))]),(node.children)?_c('tree-node',{attrs:{\"tree\":node.children,\"is-editable\":_vm.isEditable,\"editable-field\":_vm.editableField},on:{\"change-node\":_vm.onChangeNode}}):_vm._e()],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { TreeService } from '@/services/TreeService';\nimport { Inject } from '@vue-ioc/core';\nimport TreeNodeModel from '@/models/TreeNodeModel';\nimport _ from 'lodash';\n@Component({\n  name: 'TreeNode',\n})\nexport default class TreeNode extends Vue {\n  @Inject()\n  public treeService!: TreeService;\n  @Prop({ required: true })\n  private tree!: TreeNodeModel[];\n  @Prop()\n  private isEditable!: boolean;\n  @Prop({ default: 'checked' })\n  private editableField!: string;\n  onChangeNode(node: TreeNodeModel): void {\n    this.$emit('change-node', _.cloneDeep(node));\n  }\n  isIndeterminate(node: TreeNodeModel): boolean {\n    return this.treeService.isIndeterminate(node);\n  }\n  serializeNode(node: TreeNodeModel): string {\n    return this.treeService.serializeNode(node);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeNode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeNode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TreeNode.vue?vue&type=template&id=5e791ad8&scoped=true&\"\nimport script from \"./TreeNode.vue?vue&type=script&lang=ts&\"\nexport * from \"./TreeNode.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TreeNode.vue?vue&type=style&index=0&id=5e791ad8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e791ad8\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Inject } from '@vue-ioc/core';\nimport { TreeService } from '@/services/TreeService';\nimport TreeNodeModel from '@/models/TreeNodeModel';\nimport TreeNode from '@/components/TreeNode.vue';\n@Component({\n  components: { TreeNode },\n})\nexport default class Tree extends Vue {\n  @Inject()\n  public treeService!: TreeService;\n\n  @Prop()\n  private data!: TreeNodeModel[];\n\n  @Prop({ default: 'checked' })\n  private editableField!: string;\n\n  get tree(): TreeNodeModel[] {\n    return this.treeService.build(this.data);\n  }\n\n  onChangeNode(node: TreeNodeModel) {\n    const updatedTree = this.treeService.update(this.tree, node);\n    const parsedTree = this.treeService.parse(updatedTree);\n    this.$emit('change', parsedTree);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tree.vue?vue&type=template&id=90366c18&scoped=true&\"\nimport script from \"./Tree.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tree.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Tree.vue?vue&type=style&index=0&id=90366c18&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"90366c18\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport Tree from '@/components/Tree.vue';\nimport TreeNodeModel from '@/models/TreeNodeModel';\n\nimport { useStore, useModule } from 'vuex-simple';\nimport { Store } from '@/store/Store';\nimport { UsersModule } from '@/store/modules/UsersModule';\n\n@Component({\n  components: { Tree },\n})\nexport default class Roles extends Vue {\n  store: Store = useStore(this.$store);\n  usersModule?: UsersModule = useModule(this.$store, ['userRoles']);\n\n  isLoadingData?: boolean = false;\n  usersRoles: TreeNodeModel[] = [];\n\n  mounted() {\n    this.loadUsersRoles();\n  }\n\n  onChangeUsersRoles(UsersRoles: TreeNodeModel[]): void {\n    this.store.userRoles.setUsersRoles(UsersRoles);\n    this.usersRoles = this.store.userRoles.usersRoles;\n  }\n\n  async loadUsersRoles() {\n    this.isLoadingData = true;\n\n    try {\n      await this.store.userRoles.loadUsersRoles();\n      this.usersRoles = this.store.userRoles.usersRoles;\n      this.isLoadingData = false;\n    } catch (error) {\n      this.usersRoles = this.store.userRoles.usersRoles;\n      this.isLoadingData = false;\n      throw error;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=cd1cb6d4&\"\nimport script from \"./Roles.vue?vue&type=script&lang=ts&\"\nexport * from \"./Roles.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}